# 오픈소스SW개론 과제
## readme파일에 리눅스 명령어 정리하기

### 1. top 명령어

#### 설명
top 명령어는 현재 OS의 상태를 나타내주는 CLI 어플리케이션으로 각 프로세스마다 구체적인 내용을 포함함
- 실시간으로 시스템의 CPU, 메모리 사용량 등을 모니터링
- 인터페이스 커맨드 키를 제공함
- 프로세스를 정렬하거나 필터링할 수 있음

### top 명령어를 실행한 모습
![top 명령어](https://github.com/jwchoi423/opensource/blob/main/top%20%EB%AA%85%EB%A0%B9%EC%96%B4.PNG)

![top 명령어1](https://github.com/jwchoi423/opensource/assets/115212670/ced7adc8-ec7b-424f-8dec-0d0b1d0b6071)
#### 첫 번째 줄
현재 시간, 서버가 구동된 후 지난 시간, 유저의 수, CPU가 수행하는 작업의 양의 이동 평균(1분/5분/15분)
#### 두 번째 줄
전체 프로세스의 수, 실행/대기/종료/좀비 상태의 프로세스의 수
###### 여기서 좀비 상태는 상위 프로세스가 먼저 종료되어 '/(루트)' 프로세스에 닿을 수 없는 상태의 프로세스이다.
#### %Cpu(s) 줄
이 줄들에서는 CPU 사용률과 비율을 표시한다.

us : 프로세스의 유저 영역에서의 CPU 사용률

sy : 프로세스의 커널 영역에서의 CPU 사용률

ni : 프로세스의 우선순위(priority) 설정에 사용하는 CPU 사용률

id : 사용하고 있지 않는 비율

wa : IO가 완료될때까지 기다리고 있는 CPU 비율

hi : 하드웨어 인터럽트에 사용되는 CPU 사용률

si : 소프트웨어 인터럽트에 사용되는 CPU 사용률

st : CPU를 VM에서 사용하여 대기하는 CPU 비율

#### 마지막 두 줄
![top 명령어2](https://github.com/jwchoi423/opensource/blob/main/top%20%EB%AA%85%EB%A0%B9%EC%96%B42.PNG)

Mem : RAM의 메모리 영역

Swap : 디스크를 메모리처럼 이용하는 Swap 메모리 영역
###### Swap은 일반적으로 Mem이 가득 찼을 때 사용하며, 이 영역은 디스크이므로 RAM 메모리보다 속도가 느리다.
total : 총 메모리 양

free : 사용가능한 메모리 양

used : 사용중인 메모리 양

#### 디테일 영역
![top 명령어3](https://github.com/jwchoi423/opensource/blob/main/top%20%EB%AA%85%EB%A0%B9%EC%96%B43.PNG)

- PID : 프로세스 구분에 사용되는 ID로 고유한 값

- USER : 해당 프로세스를 실행했거나 효과를 받는 USER 이름

- PR & NI
  - PR : 커널에 의해서 스케줄링되는 우선순위
  - NI : PR에 영향을 주는 nice라는 값
- VIRT, RES, SHR, %MEM
  - 해당 필드들은 프로세스의 메모리와 관련이 있음
  - VIRT : 프로세스가 소비하고 있는 총 메모리로 프로그램이 실행중인 코드, heap, stack과 같은 메모리, IO buffer 메모리를 포함
  - RES : RAM에서 사용중인 메모리의 크기를
  - SHR : 다른 프로세스와 공유하는 메모리(Shared Memory)
  - %MEM : RAM에서 RES가 차지하는 비율
- S : 프로세스의 현재 상태를 표시
- TIME+ : 프로세스가 사용한 토탈 CPU 시간
- COMMAND : 해당 프로세스를 실행한 커맨드를 표시

### top 명령어 사용 방법 및 설명

#### 기본 top 명령어 실행
`top`

#### top 명령어 -옵션
`top -u [User_name]` : 특정 사용자 소유의 프로세스만 표시

#### top 내에서 커맨드 키
`Shift키 + p` : CPU 사용률 기준으로 정렬

`Shift키 + m` : 메모리 사용률 기준으로 정렬

`Shift키 + t` : 프로세스 실행 시간 기준으로 정렬

`k` + 프로세스 PID + 종료 신호(기본 : 15) : 입력한 PID 프로세스를 종료

`s` + 초 : 화면 업데이트 주기를 입력된 초로 변경

`q` : top 명령어 종료

---
### 2. ps 명령어

#### 설명
ps 명령어는 Process State의 약자로 현재 실행 중인 프로세스와 상태를 출력해줌

- top 명령어와 같이 프로세스의 정렬 및 필터링이 가능
- ps 명령어의 옵션은 각각 다른 표기법 및 출력을 가짐
- 보통 grep 명령어와 자주 함께 사용되며 다른 명령어와 함께 사용하면 더 효율적임

먼저 ~$ `ps aux'로 모든 프로세스를 출력하고 실행 결과에 대해서 알아보자
![ps 명령어](https://github.com/jwchoi423/opensource/blob/main/ps%20%EB%AA%85%EB%A0%B9%EC%96%B4.PNG)

- USER: 프로세스를 실행한 사용자
- PID: 프로세스 ID
- %CPU: CPU 사용률
- %MEM: 메모리 사용률
- VSZ: 가상 메모리 크기
- RSS: 실제 메모리 크기
- TTY: 터미널 타입
- STAT: 프로세스 상태
- START: 프로세스 시작 시간
- TIME: CPU 시간
- COMMAND: 실행된 명령어

### ps 명령어 사용 방법 및 설명

#### 기본 ps 명령어 실행
`ps`

#### ps 욥션
`a` : 터미널에 종속되지 않은 모든 프로세스를 나열

`u` : 프로세스를 사용자 형식으로 표시

`x` : 터미널에 종속되지 않은 프로세스도 나열

`e` : 모든 프로세스를 나열

`f` : 풀 포맷 (프로세스 트리 구조)으로 출력

`l` : 긴 포맷으로 출력합니다.

#### ps - 옵션
`-p PID` : 특정 PID를 가진 프로세스 정보를 출력합니다.

`-u` [User_name] : 특정 사용자가 소유한 프로세스를 나열합니다.

`-C` [Commend_name] : 특정 명령어와 관련된 프로세스를 출력합니다.

`--sort` + [출력 항목] : 특정 키에 따라 출력 결과를 정렬합니다.

`-ef` : 모든 프로세스를 풀 포멧으로 출력

---
### 3. jobs, kill 명령어

#### 설명
jobs 명령어는 현제 쉘 세션에서 실행시킨 작업의 목록을 출력함

- 실행 중이거나 중지된 작업을 모니터링 및 관리함
- 백그라운드, 포그라운드에 존재하는 작업의 상태를 알 수 있음

kill 명령어는 프로세스나 프로그램, 파일에 신호를 전달하고 제어함

- 여러 프로세스를 한 번에 제어할 수 있음
- 프로세스 신호를 통해 프로세스를 시작하거나 중지할 수 있음

#### 실행

![jobs 명령어](https://github.com/jwchoi423/opensource/blob/main/jobs%20%EB%AA%85%EB%A0%B9%EC%96%B4.PNG)

jobs 는 위에 사진과 같이 작없이 없다면 아무 내용도 출력되지 않음

따라서 아래와 같이 작업을 만든 후 jobs 명령어를 실행하면

![jobs 명령어1](https://github.com/jwchoi423/opensource/blob/main/jobs%20%EB%AA%85%EB%A0%B9%EC%96%B41.PNG)

이렇게 작업의 목록과 상태를 확인할 수 있음

#### jobs 옵션
`-l` : 각 작업의 PID를 포함하여 출력

`-n` : 상태가 변경된 작업만 표시

`-p` : 각 작업의 PID만 출력

`-r` : 현재 실행 중인 작업만 표시

`-s` : 현재 중지된 작업만 표시

#### kill 옵션
`kill [SIG] [PID]` : 단일 프로세스에 PID를 이용해서 신호 전달

`killall [SIG] [PATTERN]` : 프로그램파일의 이름(명령어)를 이용해서 여러 프로세스를 동시에 제어

`pkill` : 이름 + 특성을 이용해서 여러 프로세스를 제어

`pgrep` : pkill과 동일한 사용법으로 해당하는 PID 만 확인

아래는 프로세스 신호의 종류

1	프로세스 종료 없이 구성파일 리로드

2	키보드 인터럽트

3	키보드 종료 및 덤프 생성

9	즉각적인 강제적 종료

15	정상적인 종료

18	중지된 프로세스 다시 시작

19	프로세스 동작 중지

20	프로세스 동작 중지

